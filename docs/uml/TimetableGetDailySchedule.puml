@startuml
'https://plantuml.com/sequence-diagram

!include SequenceStyle.puml

mainframe sd getDailySchedule

box Command COMMAND_BOX_COLOR
participant ":TimetableCommand" as TimetableCommand COMMAND_COLOR
endbox

participant ":Timetable" as Timetable

box Module MODULE_BOX_COLOR
participant ":ModuleManager" as ModuleManager MODULE_COLOR
participant ":NusModule" as NusModule MODULE_COLOR
endbox

box Content CONTENT_BOX_COLOR
participant ":ContentManager" as ContentManager CONTENT_COLOR
participant ":Link" as Link CONTENT_COLOR
endbox

TimetableCommand -> Timetable: getDailySchedule()
Activate Timetable

Timetable -> ModuleManager: getAllModules()
Activate ModuleManager
NusModule --> ModuleManager: modules
Activate NusModule

loop For each NusModule in modules
    ModuleManager -> NusModule: getModule(NusModule)

    Deactivate ModuleManager

    NusModule -> ContentManager : getContentManager()

    Activate ContentManager
    Deactivate NusModule

        loop For each Link in ContentManager

            ContentManager -> Link: getContents()
            Activate Link
            Deactivate ContentManager

            Link->Link: getDay()
            Activate Link #DarkSalmon
            Link --> Link: currentDay

            opt if currentDay equals to user argument Day
            Deactivate Link

            Link -> Link: getViewDescription()
            Activate Link #DarkSalmon

            Link --> Link: description
            Deactivate Link
            Link -> Link: append(description)
            Activate Link

        end


@enduml